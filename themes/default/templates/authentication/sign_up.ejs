<% layout(config.site.dashboard_theme+'/dashboard-fullscreen.ejs') -%>

<div class="authentication wrapper">

    <div class="col-form">

        <div class="form relative">

            <h1 class="text-light mb-2">Sign Up</h1>

            <% if (typeof error != 'undefined'){ %>
                <div class="error">
                    <%- error %>
                </div>
            <% } %>

            <form id="register" method="post" action="/sign-up" class="grid col-1 col-s-1 gap-1 w-100">

                <input type="text" name="name" placeholder="Your Full Name" class="underline" autocomplete="name">

                <input id="email" type="text" name="email" placeholder="Email Address" class="underline" autocomplete="email">

                <input type="password" name="password" placeholder="Password" class="underline">
                <input type="password" name="password_conf" placeholder="Confirm Password" class="underline">

                <input type="hidden" name="guard" value="<%- guard %>">

                <input type="submit" class="mt-3 mb-15 btn highlight thick w-100" value="Sign Up!">

                <a class="btn bg-white w-100" href="/login/<%- guard %>">Have an account? Login</a>

            </form>

            <div class="logo-wrap">
                <span class="icon melded grey logo-size"></span>
                <div class="text-small">by Marimo</div>
            </div>

        </div>

    </div>

    <div class="col-image">



    </div>

</div>


<script>

    window.onload = function(evt){
        if (localStorage.getItem('register_email')){
            document.getElementById('email').value = localStorage.getItem('register_email')
            localStorage.removeItem('register_email')
        }
    }

    document.getElementById('register').addEventListener('submit', function(evt){
        localStorage.setItem('register_email',document.getElementById('email').value)
    })

</script>
