<% layout('default/fullscreen.ejs') -%>

<%- include default/partials/top_nav.ejs %>

<div class="vh-100 vw-100 flex flex-middle">
    <div class="vw-30 vw-s-100 px-s-2 text-left">

        <% if (type == 'reset'){ %>

            <h1 class="text-light mb-2">Reset</h1>
            <p class="mb-2">Enter your email address below and we'll send you a password reset confirmation</p>
            <form method="post" action="/login/<%- guard %>/send-reset" class="grid col-2 col-s-1 gap-1">
                <div class="colspan-2">
                    <input type="text" name="email" placeholder="Email Address" class="border">
                </div>
                <div>
                    <input type="submit" class="btn bg-33-topaz w-100 mt-2" value="Send">
                </div>
            </form>

        <% } else if (type == 'reset_sent'){ %>

            <h1 class="text-light mb-2">Reset</h1>
            <p class="mb-2">An email has been sent to your email address. Click the link to reset your password</p>

        <% } else { %>

            <h1 class="text-light mb-2">Reset</h1>
            <p class="mb-2">Enter your email address and a new password below</p>
            <form method="post" action="/login/<%- guard %>/reset-password" class="grid col-2 col-s-1 gap-1">
                <div class="colspan-2">
                    <input type="text" name="email" placeholder="Email Address" class="border">
                </div>
                <div class="colspan-2">
                    <input type="password" name="password" placeholder="Password" class="border">
                </div>
                <div class="colspan-2">
                    <input type="password" name="password_confirmation" placeholder="Confirm Password" class="border">
                    <input type="hidden" name="password_reset" value="<%- type %>">
                </div>
                <div>
                    <input type="submit" class="btn bg-33-topaz w-100 mt-2" value="Reset">
                </div>
            </form>

        <% } %>

        <div class="colspan-2 text-33-red" style="min-height: 2rem">
            <% if (typeof error != 'undefined'){ %>
                <%- error %>
            <% } %>
        </div>

    </div>
</div>
