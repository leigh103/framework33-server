
    <script>

        extend.pages = function(){

            scope.viewPage = function(table){

                if (scope[table] && scope[table][scope.view.key] && scope[table][scope.view.key].slug){

                    if (scope[table][scope.view.key].status != 'published'){
                        window.location.href = '/dashboard/pages/'+scope[table][scope.view.key]._key
                    } else if (scope[table][scope.view.key].slug == 'homepage'){
                        window.location.href = '/'
                    } else {
                        window.location.href = '/'+scope[table][scope.view.key].slug
                    }

                }

            }

            scope.addNewPage = function(){

                scope.openModal('show_edit')

            }

            scope.createPageFromTemplate = function(table){
                window.location.href = '/dashboard/pages/website/new?template='+scope[table][scope.view.key]._key
            }

            scope.createTemplateFromPage = function(table){
                scope.post('pages-templates',scope[table][scope.view.key]).then((data) => {
                    window.location.href = '/dashboard/pages/templates'
                }).catch((err)=>{
                    scope.notify(err,'error')
                })
            }


        }

    </script>
