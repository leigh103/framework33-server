<% layout(config.site.dashboard_theme+'/dashboard.ejs') %>

    <div class="header" app-init="getItem('<%- table %>','<%- key %>')">

        <div class="burger colspan-1">
            <a href="/dashboard/<%- table %>"><span class="icon arrowleft black"></span></a>
        </div>
        <div class="title">
            <h1 app-hide="new._id" class="capitalise"><a href="/dashboard/<%- table %>">Cancel</a></h1>
            <h1 app-show="new._id" class="capitalise"><a href="/dashboard/<%- table %>" app-bind="new.name">Back</a></h1>
        </div>

        <div class="buttons">

            <button class="btn bg-primary capitalise" app-show="new._id" app-click="saveItem('<%- table %>',new)">
                <span class="text">Save <%- view.functions.parseName(table,true) %></span><span class="icon tick white"></span>
            </button>
            <button class="btn bg-primary capitalise" app-hide="new._id" app-click="addItem('<%- table %>',new)">
                <span class="text">Add <%- view.functions.parseName(table,true) %></span><span class="icon tick white"></span>
            </button>
        </div>
    </div>

    <div class="actions">

        <div class="tabs">
            <% if (typeof fields == 'object') { %>
                <% for (var tab in fields){ %>
                    <a app-click="view.edit_tab = '<%- tab %>'" app-class="{'active':view.edit_tab == '<%- tab %>'}" class="capitalise"><%- view.functions.parseName(tab) %></a>
                <% } %>
            <% } %>
        </div>

    </div>

    <div class="edit-wrap edit-<%- table %>">
            <%- include(basedir+'/themes/default/partials/input_fields/parse_fields.ejs') %>
    </div>

    <div class="loader-wrap" app-show="view.loader" data-animation="{'exit':'fade-out'}">
        <div class="loader">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>
