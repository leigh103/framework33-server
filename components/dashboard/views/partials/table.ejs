<div class="table-wrap rounded">
    <div class="table" app-init="get('<%- table %><% if (typeof query != 'undefined'){ %><%- query %><% } %>')">
        <div class="row table-header">
            <% fields.forEach((item)=>{ %>
                <% if (item.table_hide == true || item.type == 'password' || item.type == 'hidden'){ %>

                <% } else { %>
                    <div class="cell middle <%- item.type.toLowerCase() %> <%- item.name %> <%- item.input_type %>" <% if (item.name == 'name'){ %>style="width: 25%"<% } %>><%- view.functions.parseName(item.name) %></div>
                <% } %>
            <% }) %>
            <div class="cell middle action"></div>
        </div>
    </div>
    <div class="table-inner-wrap">
        <div class="table">

            <div class="row" app-for="<%- view.functions.depluralise(table) %> in <%- table %>">
                <% fields.forEach((item)=>{ %>

                    <% var width = '' %>
                    <% if (item.name == 'name'){ var width = ' style="width: 25%"' } %>

                    <% if (item.table_hide == true || item.type == 'password' || item.type == 'hidden'){ %>

                    <% } else if (item.input_type == 'image'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>"<%- width %>><img src="/images/Product_Placeholder.svg?v=1.2" app-src="<%- view.functions.depluralise(table) %>.<%- item.name %>" class="<%- item.name %>"></div>

                    <% } else if (item.input_type == 'text' && item.type.match(/barcode|qrcode/)){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>"<%- width %>><img app-src="<%- view.functions.depluralise(table) %>.<%- item.name %>" class="<%- item.name %>"></div>

                    <% } else if (item.type == 'price'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>" app-bind="parseCurrency(<%- view.functions.depluralise(table) %>.<%- item.name %>)"<%- width %>></div>

                    <% } else if (item.type == 'discount'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>" app-bind="parseAdjustment(<%- view.functions.depluralise(table) %>.<%- item.name %>)"<%- width %>></div>

                    <% } else if (item.input_type == 'object' || item.input_type == 'array'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>" app-bind="<%- view.functions.depluralise(table) %>.<%- item.name %>.length"<%- width %>></div>

                    <% } else if (item.input_type == 'date'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>" app-bind="parseDate(<%- view.functions.depluralise(table) %>.<%- item.name %>,'ddd Do MMM YYYY')"<%- width %>></div>

                    <% } else if (item.type == 'boolean'){ %>

                        <div class="cell middle <%- item.name %> <%- item.input_type %>"<%- width %>><input type="checkbox" app-model="<%- view.functions.depluralise(table) %>.<%- item.name %>" disabled></div>

                    <% } else if (item.input_type && !item.input_type.match(/image/)){ %>

                        <% if (item.name == 'name' || item.name == 'title' || item.name == 'full_name'){ %>
                            <div class="cell middle <%- item.name %> <%- item.input_type %>"<%- width %>>
                                <a app-click="goto('<%- table %>',<%- view.functions.depluralise(table) %>._key)" app-bind="<%- view.functions.depluralise(table) %>.<%- item.name %>"></a>
                            </div>
                        <% } else { %>
                            <div class="cell middle <%- item.name %> <%- item.input_type %>" app-bind="<%- view.functions.depluralise(table) %>.<%- item.name %>"<%- width %>></div>
                        <% } %>

                    <% } %>
                <% }) %>
                <div class="cell middle text-right" app-attr="{'id':'cell-'+<%- view.functions.depluralise(table) %>._key}">

                    <div class="context-menu context-link btn" app-click="toggleContext('context',$index)">
                        <i class="fas fa-chevron-down"></i>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
